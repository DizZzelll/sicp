## Упражнение 1.16

Напишите процедуру, которая развивается в виде итеративного процесса и реализует возведение в степень за логарифмическое число шагов, как `fast-expt`. (Указание: используя наблюдение, что `(b^n/2)^2 = (b^2)^n/2`, храните, помимо значения степени `n` и основания `b`, дополнительную переменную состояния `a`, и определите переход между состояниями так, чтобы произведение `ab^n` от шага к шагу не менялось. Вначале значение a берется равным 1, а ответ получается как значение `a` в момент окончания процесса. В общем случае метод определения инварианта (invariant quantity), который не изменяется при переходе между шагами, является мощным способом размышления о построении итеративных алгоритмов.)

## Решение

```racket
#lang racket

(define (expt base n)
  (define (square n)
    (* n n))
  (define (even? n)
    (= (remainder n 2) 0))
  (define (iter base counter product)
    (cond ((= counter 0) product)
          ((even? counter) (iter (square base)
                                 (/ counter 2)
                                 product))
          (else (iter base
                      (- counter 1)
                      (* product base)))))
  (iter base n 1))

```

[Код](../../src/ch01/1-16.rkt)
